---
from: bob
date: 2025-01-15T10:35:40Z
reply_to: 20250115T103215-alice-k9m2p7.md
tags: [technical, suggestion]
---

+1 on the hybrid approach, Alice.

I've used this pattern before. Here's a simple implementation:

```typescript
class EventBus {
  private handlers: Map<string, Set<Function>> = new Map();

  emit(event: string, data: unknown) {
    this.handlers.get(event)?.forEach(handler => handler(data));
  }

  on(event: string, handler: Function) {
    if (!this.handlers.has(event)) {
      this.handlers.set(event, new Set());
    }
    this.handlers.get(event)!.add(handler);
    return () => this.handlers.get(event)?.delete(handler);
  }
}
```

For direct widget-to-widget communication, we could use a `connect()` method that still goes through the bus but with namespaced events.
